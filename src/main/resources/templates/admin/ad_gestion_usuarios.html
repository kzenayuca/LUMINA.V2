<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Usuarios - LUMINA ADMIN</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- INSERTAR ESTILOS SIDEBAR (copiar desde admin.html) -->
    <style>
        /* Variables y estilos base - COPIAR DE admin.html */
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #9b59b6;
            --light: #ecf0f1;
            --success: #2ecc71;
            --warning: #f39c12;
            --danger: #e74c3c;
            --sidebar-width: 250px;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { display: flex; min-height: 100vh; background-color: #f5f7fa; color: #333; }
                              
        /* Sidebar */
        .sidebar {
            width: var(--sidebar-width);
            background: linear-gradient(180deg, var(--primary) 0%, #1a2530 100%);
            color: white;
            height: 100vh;
            position: fixed;
            overflow-y: auto;
            box-shadow: 3px 0 10px rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }

        .logo {
            padding: 20px;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .logo h1 {
            font-size: 1.5rem;
            font-weight: 600;
        }

        .logo i {
            color: var(--secondary);
            font-size: 1.8rem;
        }

        .user-info {
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .user-details h3 {
            font-size: 1rem;
            margin-bottom: 3px;
        }

        .user-details p {
            font-size: 0.8rem;
            opacity: 0.7;
        }

        .logout-btn {
            margin-left: auto;
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.3s;
            font-size: 1.2rem;
        }

        .logout-btn:hover {
            opacity: 1;
        }

        .menu {
            padding: 20px 0;
        }

        .menu-section {
            margin-bottom: 10px;
        }

        .menu-title {
            padding: 10px 20px;
            font-size: 0.9rem;
            text-transform: uppercase;
            opacity: 0.7;
            letter-spacing: 1px;
        }

        .menu-item {
            padding: 12px 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border-left: 3px solid transparent;
            text-decoration: none;
            color: white;
        }

        .menu-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
            border-left: 3px solid var(--secondary);
        }

        .menu-item.active {
            background-color: rgba(52, 152, 219, 0.2);
            border-left: 3px solid var(--secondary);
        }

        .menu-item i {
            width: 20px;
            text-align: center;
        }

        .submenu {
            padding-left: 40px;
            display: none;
        }

        .submenu.active {
            display: block;
        }

        .submenu-item {
            padding: 8px 0;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.9rem;
            opacity: 0.8;
            cursor: pointer;
            transition: opacity 0.3s;
            text-decoration: none;
            color: white;
        }

        .submenu-item:hover {
            opacity: 1;
        }        
        
        .logo { padding: 20px; text-align: center; border-bottom: 1px solid rgba(255, 255, 255, 0.1); display: flex; align-items: center; justify-content: center; gap: 10px; }
        .logo h1 { font-size: 1.5rem; font-weight: 600; }
        .logo i { color: var(--secondary); font-size: 1.8rem; }
        .user-info { padding: 15px 20px; display: flex; align-items: center; gap: 10px; border-bottom: 1px solid rgba(255, 255, 255, 0.1); }
        .user-avatar { width: 40px; height: 40px; border-radius: 50%; background-color: var(--secondary); display: flex; align-items: center; justify-content: center; font-weight: bold; }
        .user-details h3 { font-size: 1rem; margin-bottom: 3px; }
        .user-details p { font-size: 0.8rem; opacity: 0.7; }
        .logout-btn { margin-left: auto; background: none; border: none; color: white; cursor: pointer; opacity: 0.7; transition: opacity 0.3s; font-size: 1.2rem; }
        .logout-btn:hover { opacity: 1; }
        .menu { padding: 20px 0; }
        .menu-section { margin-bottom: 10px; }
        .menu-title { padding: 10px 20px; font-size: 0.9rem; text-transform: uppercase; opacity: 0.7; letter-spacing: 1px; }
        .menu-item { padding: 12px 20px; display: flex; align-items: center; gap: 10px; cursor: pointer; transition: all 0.3s; border-left: 3px solid transparent; text-decoration: none; color: white; }
        .menu-item:hover { background-color: rgba(255, 255, 255, 0.1); border-left: 3px solid var(--secondary); }
        .menu-item.active { background-color: rgba(52, 152, 219, 0.2); border-left: 3px solid var(--secondary); }
        .menu-item i { width: 20px; text-align: center; }
        .submenu { padding-left: 40px; display: none; }
        .submenu.active { display: block; }
        .submenu-item { padding: 8px 0; display: flex; align-items: center; gap: 10px; font-size: 0.9rem; opacity: 0.8; cursor: pointer; transition: opacity 0.3s; text-decoration: none; color: white; }
        .submenu-item:hover { opacity: 1; }

        /* Main Content */
        .main-content { flex: 1; margin-left: var(--sidebar-width); padding: 20px; }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; padding-bottom: 15px; border-bottom: 1px solid #e0e0e0; }
        .header h1 { color: var(--primary); font-size: 1.8rem; }
        .breadcrumb { display: flex; align-items: center; gap: 10px; color: #7f8c8d; font-size: 0.9rem; }
        .page-content { background: white; border-radius: 10px; padding: 25px; box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08); margin-bottom: 30px; }
        .section-title { font-size: 1.3rem; color: var(--primary); margin-bottom: 20px; padding-bottom: 10px; border-bottom: 1px solid #e0e0e0; display: flex; align-items: center; justify-content: space-between; }
        
        .btn { padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-weight: 500; transition: all 0.3s; display: inline-flex; align-items: center; gap: 8px; }
        .btn-primary { background-color: var(--secondary); color: white; }
        .btn-primary:hover { background-color: #2980b9; transform: translateY(-2px); }
        .btn-success { background-color: var(--success); color: white; }
        .btn-warning { background-color: var(--warning); color: white; }
        .btn-danger { background-color: var(--danger); color: white; }
        .btn-outline { background: white; border: 1px solid var(--secondary); color: var(--secondary); }
        
        .search-box { display: flex; margin-bottom: 20px; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .search-box input { flex: 1; padding: 12px 15px; border: none; font-size: 1rem; outline: none; }
        .search-box button { padding: 12px 20px; background-color: var(--secondary); color: white; border: none; cursor: pointer; }
        
        .data-table { width: 100%; border-collapse: collapse; margin-top: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); border-radius: 8px; overflow: hidden; }
        .data-table th, .data-table td { padding: 15px; text-align: left; border-bottom: 1px solid #e0e0e0; }
        .data-table th { background-color: var(--light); color: var(--primary); font-weight: 600; position: sticky; top: 0; }
        .data-table tr:hover { background-color: #f9f9f9; }
        
        .user-avatar-small { width: 36px; height: 36px; border-radius: 50%; background-color: var(--secondary); display: flex; align-items: center; justify-content: center; font-weight: bold; color: white; font-size: 0.9rem; }
        
        .status-badge { padding: 5px 10px; border-radius: 20px; font-size: 0.8rem; font-weight: 500; }
        .status-active { background-color: rgba(46, 204, 113, 0.2); color: var(--success); }
        .status-inactive { background-color: rgba(231, 76, 60, 0.2); color: var(--danger); }
        .status-blocked { background-color: rgba(243, 156, 18, 0.2); color: var(--warning); }
        
        .action-buttons { display: flex; gap: 8px; }
        .action-btn { width: 32px; height: 32px; border-radius: 5px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.3s; border: none; }
        .action-edit { background-color: rgba(52, 152, 219, 0.1); color: var(--secondary); }
        .action-edit:hover { background-color: var(--secondary); color: white; }
        .action-block { background-color: rgba(243, 156, 18, 0.1); color: var(--warning); }
        .action-block:hover { background-color: var(--warning); color: white; }
        .action-delete { background-color: rgba(231, 76, 60, 0.1); color: var(--danger); }
        .action-delete:hover { background-color: var(--danger); color: white; }
        
        /* Modal */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 2000; align-items: center; justify-content: center; }
        .modal.show { display: flex; }
        .modal-content { background: white; border-radius: 10px; width: 90%; max-width: 500px; box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2); overflow: hidden; }
        .modal-header { padding: 20px; background: var(--primary); color: white; display: flex; justify-content: space-between; align-items: center; }
        .modal-header h3 { margin: 0; }
        .close-modal { background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer; }
        .modal-body { padding: 20px; }
        .modal-footer { padding: 15px 20px; background: #f9f9f9; display: flex; justify-content: flex-end; gap: 10px; }
        
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 500; color: var(--primary); }
        .form-control { width: 100%; padding: 10px 15px; border: 1px solid #ddd; border-radius: 5px; font-size: 1rem; transition: border 0.3s; }
        .form-control:focus { border-color: var(--secondary); outline: none; box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2); }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }

        @media (max-width: 992px) {
            .sidebar { width: 70px; }
            .logo h1, .user-details, .menu-title, .menu-item span { display: none; }
            .main-content { margin-left: 70px; }
        }
    </style>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="logo">
            <i class="fas fa-graduation-cap"></i>
            <h1>LUMINA ADMINISTRADOR</h1>
        </div>
        
        <div class="user-info">
            <div class="user-avatar" id="userAvatar">A</div>
            <div class="user-details">
                <h3 id="adminName">Administrador</h3>
                <p id="adminEmail">admin@lumina.edu.pe</p>
            </div>
            <button class="logout-btn" id="logoutBtn">
                <i class="fas fa-sign-out-alt"></i>
            </button>
        </div>
        
        <div class="menu">
            <div class="menu-section">
                <a href="admin.html" class="menu-item active">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>DASHBOARD</span>
                </a>
                <div class="menu-title">Panel Principal</div>
            </div>
            
            <div class="menu-section">
                <div class="menu-item" id="users-menu">
                    <i class="fas fa-users"></i>
                    <span>GESTIÓN DE USUARIOS</span>
                </div>
                <div class="submenu" id="users-submenu">
                    <a href="ad_gestion_usuarios.html" class="submenu-item">
                        <i class="fas fa-chevron-right"></i>
                        <span>Gestionar Usuarios</span>
                    </a>
                </div>
            </div>
            
            <div class="menu-section">
                <div class="menu-item" id="academic-menu">
                    <i class="fas fa-book-open"></i>
                    <span>GESTIÓN ACADÉMICA</span>
                </div>
                <div class="submenu" id="academic-submenu">                    
                    <a href="ad_docentes.html" class="submenu-item">
                        <i class="fas fa-chevron-right"></i>
                        <span>Editar Docentes</span>
                    </a>
                    <a href="ad_edita_estudiante.html" class="submenu-item">
                        <i class="fas fa-chevron-right"></i>
                        <span>Editar Estudiantes</span>
                    </a>
                    <a href="ad_gestion_cursos.html" class="submenu-item">
                        <i class="fas fa-chevron-right"></i>
                        <span>Editar cursos</span>
                    </a>
                    <a href="ad_gestion_cursos.html" class="submenu-item">
                        <i class="fas fa-chevron-right"></i>
                        <span>Información cursos</span>
                    </a>
                    <a href="ad_asignar_horarios.html" class="submenu-item">
                        <i class="fas fa-chevron-right"></i>
                        <span>Editar Horarios</span>
                    </a>
                    
                </div>
            </div>
            
            <div class="menu-section">
                <div class="menu-item" id="reports-menu">
                    <i class="fas fa-chart-bar"></i>
                    <span>ARCHIVOS</span>
                </div>
                <div class="submenu" id="reports-submenu">
                    <a href="ad_reportes.html" class="submenu-item">
                        <i class="fas fa-file-download"></i>
                        <span>Reportes Académicos</span>
                    </a>
                    <a href="ad_pdfs.html" class="submenu-item">
                        <i class="fas fa-file-pdf"></i>
                        <span>Ver PDFs</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Main Content -->
    <div class="main-content">
        <div class="header">
            <h1>Gestión de Usuarios</h1>
            <div class="breadcrumb">
                <span>Inicio</span>
                <i class="fas fa-chevron-right"></i>
                <span>Gestión de Usuarios</span>
            </div>
        </div>
        
        <div class="page-content">
            <div class="section-title">
                <span>Lista de Usuarios</span>
                <button class="btn btn-primary" id="addUserBtn">
                    <i class="fas fa-plus"></i> Agregar Usuario
                </button>
            </div>
            
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="Buscar usuario por nombre, email o tipo...">
                <button><i class="fas fa-search"></i></button>
            </div>
            
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Usuario</th>
                        <th>Email</th>
                        <th>Tipo</th>
                        <th>Estado</th>
                        
                    </tr>
                </thead>
                <tbody id="usuariosTable">
                    <tr><td colspan="6" style="text-align:center;">Cargando usuarios...</td></tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Modal Agregar/Editar Usuario -->
    <div class="modal" id="userModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Agregar Nuevo Usuario</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="nombreCompleto">Nombre Completo</label>
                    <input type="text" id="nombreCompleto" class="form-control" placeholder="Apellidos, Nombres">
                </div>
                <div class="form-group">
                    <label for="correo">Email Institucional</label>
                    <input type="email" id="correo" class="form-control" placeholder="usuario@lumina.edu.pe">
                </div>
                <div class="form-group">
                    <label for="tipoUsuario">Tipo de Usuario</label>
                    <select id="tipoUsuario" class="form-control">
                        <option value="">Seleccione un tipo</option>
                        <option value="1">Estudiante</option>
                        <option value="2">Docente</option>
                        <option value="3">Secretaria</option>
                        <option value="4">Administrador</option>
                    </select>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="password">Contraseña</label>
                        <input type="password" id="password" class="form-control" placeholder="Contraseña">
                    </div>
                    <div class="form-group">
                        <label for="confirmPassword">Confirmar</label>
                        <input type="password" id="confirmPassword" class="form-control" placeholder="Confirmar">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" id="cancelBtn">Cancelar</button>
                <button class="btn btn-primary" id="saveBtn">Guardar Usuario</button>
            </div>
        </div>
    </div>

    <script>
        const contextPath = window.location.pathname.split('/').filter(Boolean)[0] ? `/${window.location.pathname.split('/').filter(Boolean)[0]}` : '';
        const adminApiBase = (contextPath === '/admin') ? contextPath + '/api' : contextPath + '/admin/api';
        let usuarios = [];
        let usuariosFiltrados = [];

        // CARGAR USUARIOS
        async function cargarUsuarios() {
            try {
                const resp = await fetch(`${adminApiBase}/usuarios`, {
                    method: 'GET',
                    headers: { 'Accept': 'application/json' },
                    credentials: 'same-origin'
                });

                if (!resp.ok) {
                    if (resp.status === 401) {
                        window.location.href = '/Inicio_Sesion.html';
                        return;
                    }
                    throw new Error('Error al cargar usuarios: ' + resp.status);
                }

                usuarios = await resp.json();
                usuariosFiltrados = usuarios;
                renderizarTabla();
            } catch (err) {
                console.error(err);
                document.getElementById('usuariosTable').innerHTML = '<tr><td colspan="6" style="text-align:center;color:red;">Error al cargar usuarios</td></tr>';
            }
        }

        // RENDERIZAR TABLA
        function renderizarTabla() {
            const tbody = document.getElementById('usuariosTable');
            tbody.innerHTML = '';

            if (usuariosFiltrados.length === 0) {
                tbody.innerHTML = '<tr><td colspan="6" style="text-align:center;">No se encontraron usuarios</td></tr>';
                return;
            }

            usuariosFiltrados.forEach(u => {
                const iniciales = (u.nombreCompleto || 'US').split(' ').slice(0,2).map(p => p[0] || '').join('').toUpperCase();
                const estadoClass = u.estadoCuenta === 'ACTIVO' ? 'status-active' : 
                                   u.estadoCuenta === 'BLOQUEADO' ? 'status-blocked' : 'status-inactive';
                const estadoTexto = u.estadoCuenta === 'ACTIVO' ? 'Activo' : 
                                   u.estadoCuenta === 'BLOQUEADO' ? 'Bloqueado' : 'Eliminado';

                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <div class="user-avatar-small">${iniciales}</div>
                            <div>
                                <div style="font-weight: 500;">${u.nombreCompleto || 'Sin nombre'}</div>
                                <div style="font-size: 0.8rem; color: #7f8c8d;">ID: ${u.idUsuario}</div>
                            </div>
                        </div>
                    </td>
                    <td>${u.correoInstitucional}</td>
                    <td>${u.tipoUsuario}</td>
                    <td><span class="status-badge ${estadoClass}">${estadoTexto}</span></td>
                    <td>
                        <div class="action-buttons">
                            <button class="action-btn action-block" onclick="toggleEstado(${u.idUsuario}, '${u.estadoCuenta}')" title="${u.estadoCuenta === 'ACTIVO' ? 'Bloquear' : 'Activar'}">
                                <i class="fas fa-${u.estadoCuenta === 'ACTIVO' ? 'lock' : 'unlock'}"></i>
                            </button>
                            <button class="action-btn action-delete" onclick="eliminarUsuario(${u.idUsuario})" title="Eliminar">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }

        // BÚSQUEDA
        document.getElementById('searchInput').addEventListener('input', function() {
            const query = this.value.toLowerCase();
            usuariosFiltrados = usuarios.filter(u => 
                (u.nombreCompleto && u.nombreCompleto.toLowerCase().includes(query)) ||
                (u.correoInstitucional && u.correoInstitucional.toLowerCase().includes(query)) ||
                (u.tipoUsuario && u.tipoUsuario.toLowerCase().includes(query))
            );
            renderizarTabla();
        });

        // MODAL
        const modal = document.getElementById('userModal');
        document.getElementById('addUserBtn').addEventListener('click', () => modal.classList.add('show'));
        document.querySelector('.close-modal').addEventListener('click', () => modal.classList.remove('show'));
        document.getElementById('cancelBtn').addEventListener('click', () => modal.classList.remove('show'));

        // GUARDAR USUARIO
        document.getElementById('saveBtn').addEventListener('click', async () => {
            const nombre = document.getElementById('nombreCompleto').value.trim();
            const correo = document.getElementById('correo').value.trim();
            const tipoId = parseInt(document.getElementById('tipoUsuario').value);
            const pass = document.getElementById('password').value;
            const pass2 = document.getElementById('confirmPassword').value;

            if (!nombre || !correo || !tipoId || !pass) {
                alert('Complete todos los campos');
                return;
            }

            if (pass !== pass2) {
                alert('Las contraseñas no coinciden');
                return;
            }

            try {
                const resp = await fetch(`${adminApiBase}/usuarios`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    credentials: 'same-origin',
                    body: JSON.stringify({
                        nombreCompleto: nombre,
                        correo: correo,
                        password: pass,
                        salt: 'salt_' + Date.now(),
                        tipoId: tipoId
                    })
                });

                const result = await resp.json();
                
                if (result.success) {
                    alert('Usuario creado correctamente');
                    modal.classList.remove('show');
                    document.getElementById('nombreCompleto').value = '';
                    document.getElementById('correo').value = '';
                    document.getElementById('tipoUsuario').value = '';
                    document.getElementById('password').value = '';
                    document.getElementById('confirmPassword').value = '';
                    cargarUsuarios();
                } else {
                    alert('Error: ' + result.mensaje);
                }
            } catch (err) {
                console.error(err);
                alert('Error al crear usuario');
            }
        });

        // TOGGLE ESTADO
        async function toggleEstado(idUsuario, estadoActual) {
            const nuevoEstado = estadoActual === 'ACTIVO' ? 'BLOQUEADO' : 'ACTIVO';
            
            if (!confirm(`¿Cambiar estado del usuario a ${nuevoEstado}?`)) return;

            try {
                const resp = await fetch(`${adminApiBase}/usuarios/${idUsuario}/estado`, {
                    method: 'PUT',
                    headers: { 'Content-Type': 'application/json' },
                    credentials: 'same-origin',
                    body: JSON.stringify({ estado: nuevoEstado })
                });

                const result = await resp.json();
                
                if (result.success) {
                    alert('Estado actualizado');
                    cargarUsuarios();
                } else {
                    alert('Error: ' + result.mensaje);
                }
            } catch (err) {
                console.error(err);
                alert('Error al cambiar estado');
            }
        }

        // ELIMINAR USUARIO
        async function eliminarUsuario(idUsuario) {
            if (!confirm('¿ELIMINAR usuario? Esta acción es irreversible.')) return;

            try {
                const resp = await fetch(`${adminApiBase}/usuarios/${idUsuario}`, {
                    method: 'DELETE',
                    credentials: 'same-origin'
                });

                const result = await resp.json();
                
                if (result.success) {
                    alert('Usuario eliminado');
                    cargarUsuarios();
                } else {
                    alert('Error: ' + result.mensaje);
                }
            } catch (err) {
                console.error(err);
                alert('Error al eliminar usuario');
            }
        }

        // LOGOUT
        document.getElementById('logoutBtn').addEventListener('click', async () => {
            if (!confirm('¿Cerrar sesión?')) return;
            try {
                await fetch(`${contextPath || ''}/logout`, { method: 'POST', credentials: 'same-origin' });
            } catch(e) {}
            window.location.href = `/Inicio_Sesion.html`;
        });

        // Toggle submenus
        document.querySelectorAll('.menu-item').forEach(item => {
            if (!item.hasAttribute('href')) {
                item.addEventListener('click', function() {
                    const submenu = this.nextElementSibling;
                    if (submenu && submenu.classList.contains('submenu')) {
                        submenu.classList.toggle('active');
                    }
                });
            }
        });

        // INICIALIZAR
        document.addEventListener('DOMContentLoaded', cargarUsuarios);
    </script>
</body>
</html>